<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yusuf Ali - Blog</title>
    <link rel="icon" href="profil.jpg" id="dynamicFavicon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a1a;
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            color: white;
            position: relative;
        }

        /* --- ARKA PLAN --- */
        .bg-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: 400% 400%; animation: gradientBG 15s ease infinite; transition: opacity 3s ease-in-out; opacity: 0; z-index: -10; }
        .bg-layer.active { opacity: 1; z-index: -9; }
        #bg-layer-1, #bg-layer-2 { background-image: linear-gradient(45deg, #000000, #434343, #1a1a1a, #000000); }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        #snowCanvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -8; pointer-events: none; }

        /* --- SABİT UI ELEMANLARI (ALWAYS VISIBLE) --- */
        
        /* 1. Saat ve Tarih */
        #clock-container {
            position: fixed; top: 5%; left: 50%; transform: translateX(-50%);
            text-align: center; z-index: 50; pointer-events: none;
        }
        #digitalClock {
            font-size: 4rem; font-weight: 800; letter-spacing: 2px;
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px);
            padding: 5px 30px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
            text-shadow: 0 5px 15px rgba(0,0,0,0.5); transition: color 1s;
        }
        #dateText { font-size: 1rem; letter-spacing: 2px; margin-top: 5px; opacity: 0.8; text-transform: uppercase; }

        /* 2. Hava Durumu */
        .weather-widget {
            position: fixed; top: 30px; right: 30px;
            background: rgba(20, 20, 20, 0.4); backdrop-filter: blur(20px);
            padding: 15px 20px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
            display: flex; flex-direction: column; align-items: flex-end; z-index: 60;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);
            max-height: 70px; min-width: 160px; overflow: hidden;
        }
        .weather-widget:hover, .weather-widget.expanded, .weather-widget.search-mode { max-height: 400px; background: rgba(20, 20, 20, 0.9); }
        .weather-header { display: flex; align-items: center; gap: 12px; width: 100%; justify-content: flex-end; cursor: pointer; }
        .weather-icon { font-size: 2rem; color: #ffd700; }
        .weather-temp { font-size: 1.3rem; font-weight: 700; }
        .weather-city { font-size: 0.8rem; opacity: 0.7; }
        .weather-details { margin-top: 15px; width: 100%; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px; }
        .detail-item { display: flex; justify-content: space-between; font-size: 0.8rem; color: #ddd; margin-bottom: 5px; }
        .change-city-text { text-align: center; margin-top: 10px; font-size: 0.7rem; color: #00bfff; cursor: pointer; text-decoration: underline; }
        .city-search-box { display: none; width: 100%; flex-direction: column; gap: 8px; margin-top: 5px; }
        .weather-widget.search-mode .city-search-box { display: flex; }
        .search-input { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 8px; color: white; border-radius: 5px; width: 100%; }
        .suggestions-list { background: rgba(0,0,0,0.9); border-radius: 5px; max-height: 100px; overflow-y: auto; }
        .suggestion-item { padding: 8px; font-size: 0.8rem; cursor: pointer; border-bottom: 1px solid #333; }
        .suggestion-item:hover { background: #333; }

        /* 3. Radyo Player (Fixed Bottom Right) */
        .radio-wrapper { position: fixed; bottom: 30px; right: 30px; z-index: 60; display: flex; flex-direction: column; align-items: flex-end; gap: 10px; }
        .radio-player {
            background: rgba(20, 20, 20, 0.4); backdrop-filter: blur(20px);
            padding: 12px 25px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; gap: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.5s;
        }
        .radio-player.active-glow { border-color: rgba(255, 255, 255, 0.3); box-shadow: 0 0 25px rgba(255, 255, 255, 0.1); }
        .radio-info { text-align: right; }
        .station-name { font-size: 0.9rem; font-weight: 600; }
        .status-text { font-size: 0.7rem; color: #aaa; }
        .controls { display: flex; align-items: center; gap: 15px; }
        .control-btn { background: none; border: none; color: white; cursor: pointer; font-size: 1.1rem; opacity: 0.7; transition: 0.2s; }
        .control-btn:hover { transform: scale(1.2); opacity: 1; }
        .play-btn { width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; }

        /* 4. Footer */
        .footer-copyright { position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%); font-size: 0.7rem; opacity: 0.5; z-index: 50; text-align: center; width: 100%; pointer-events: none; }

        /* --- ORTA KART (DEĞİŞEN KISIM) --- */
        .card-stage {
            perspective: 1000px; z-index: 10;
            width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
        }

        .card {
            background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
            /* Animasyon Geçiş Süresi (1 Saniye) */
            transition: all 1s cubic-bezier(0.25, 1, 0.5, 1);
            
            /* Varsayılan (Stage 1 - Profil) Boyutları */
            width: 360px; height: 500px;
        }

        /* İÇERİK ELEMENTLERİ */
        .profile-img {
            position: absolute; top: 50px; left: 50%; transform: translateX(-50%);
            width: 140px; height: 140px; border-radius: 50%; object-fit: cover;
            border: 3px solid rgba(255,255,255,0.2);
            transition: all 1s cubic-bezier(0.25, 1, 0.5, 1); z-index: 2;
        }
        
        .info-box {
            position: absolute; top: 210px; width: 100%;
            transition: all 1s ease; opacity: 1;
        }
        h2 { margin-bottom: 5px; font-weight: 600; font-size: 1.8rem; }
        .subtitle { font-size: 0.8rem; color: #ccc; letter-spacing: 1px; text-transform: uppercase; }

        .bio-box {
            position: absolute; top: 280px; padding: 0 30px;
            opacity: 0; transform: translateY(30px);
            transition: all 1s ease;
        }
        p.bio { font-size: 0.9rem; opacity: 0.9; line-height: 1.6; color: #ddd; }

        .social-box {
            position: absolute; bottom: 40px; width: 100%;
            display: flex; justify-content: center; gap: 15px;
            transition: all 1s ease;
        }
        .social-btn {
            text-decoration: none; color: white; width: 45px; height: 45px; border-radius: 50%;
            background: rgba(255,255,255,0.05); display: flex; justify-content: center; align-items: center;
            font-size: 1.2rem; transition: all 0.5s ease; border: 1px solid rgba(255,255,255,0.1);
            position: relative; overflow: hidden;
        }
        .social-text { max-width: 0; overflow: hidden; opacity: 0; transition: all 0.5s; font-size: 0.8rem; margin-left: 0; }
        .social-btn:hover { background: rgba(255,255,255,0.1); }

        /* ALBÜM KONTROLLERİ */
        .album-nav {
            position: absolute; top: 50%; transform: translateY(-50%);
            font-size: 2rem; color: white; cursor: pointer; opacity: 0; pointer-events: none; transition: 0.5s; z-index: 20;
        }
        .nav-left { left: 20px; } .nav-right { right: 20px; }

        /* --- SAHNELER (STATES) --- */

        /* STAGE 0: ALBÜM (Büyük Fotoğraf) */
        .card.state-album { width: 800px; height: 600px; }
        .card.state-album .profile-img { width: 100%; height: 100%; border-radius: 0; top: 0; border: none; }
        .card.state-album .info-box, .card.state-album .bio-box, .card.state-album .social-box { opacity: 0; }
        .card.state-album .album-nav { opacity: 1; pointer-events: auto; }

        /* STAGE 1: PROFİL (Varsayılan) - CSS yukarda tanımlı */

        /* STAGE 2: BİYOGRAFİ */
        .card.state-bio .profile-img { width: 80px; height: 80px; top: 30px; opacity: 0.7; }
        .card.state-bio .info-box { top: 120px; transform: scale(0.9); }
        .card.state-bio .bio-box { opacity: 1; transform: translateY(0); top: 200px; }

        /* STAGE 3: SOSYAL MEDYA */
        .card.state-social { width: 500px; height: 500px; }
        .card.state-social .profile-img { width: 60px; height: 60px; top: 20px; opacity: 0.4; }
        .card.state-social .info-box { top: 90px; opacity: 0.4; }
        .card.state-social .bio-box { opacity: 0; }
        .card.state-social .social-box { bottom: 150px; flex-direction: column; width: 60%; left: 20%; gap: 10px; }
        .card.state-social .social-btn { width: 100%; height: 60px; border-radius: 15px; justify-content: flex-start; padding-left: 20px; }
        .card.state-social .social-text { max-width: 200px; opacity: 1; margin-left: 15px; }


        /* GİRİŞ EKRANI */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); backdrop-filter: blur(20px);
            z-index: 9999; display: flex; justify-content: center; align-items: center;
            flex-direction: column; color: white; transition: opacity 1s ease;
        }
        .click-icon { font-size: 2rem; margin-top: 20px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

        /* MOBİL */
        @media (max-width: 768px) {
            #digitalClock { font-size: 2.5rem; }
            .card.state-album { width: 95vw; height: 60vh; }
            .card.state-social { width: 90vw; }
            .weather-widget { top: 80px; }
            .radio-wrapper { bottom: 50px; }
        }
    </style>
</head>
<body>

    <div class="bg-layer active" id="bg-layer-1"></div>
    <div class="bg-layer" id="bg-layer-2"></div>
    <canvas id="snowCanvas"></canvas>

    <div id="clock-container">
        <div id="digitalClock">00:00</div>
        <div id="dateText">Yükleniyor...</div>
    </div>

    <div class="weather-widget" id="weatherWidget">
        <div class="weather-header" id="weatherHeader">
            <div class="weather-main-info">
                <span class="weather-temp" id="w-temp">--°</span>
                <span class="weather-city" id="w-city">Konum...</span>
            </div>
            <i class="fas fa-location-arrow weather-icon" id="w-icon"></i>
        </div>
        <div class="weather-details" id="weatherDetails">
            <div class="detail-item"><span>Rüzgar:</span><span id="w-wind">--</span></div>
            <div class="detail-item"><span>Nem:</span><span id="w-hum">--</span></div>
            <div class="change-city-text" onclick="enableSearchMode(event)">Şehir Değiştir</div>
        </div>
        <div class="city-search-box" id="citySearchBox">
            <input type="text" class="search-input" id="cityInput" placeholder="Şehir ara..." autocomplete="off">
            <div class="suggestions-list" id="suggestionsList"></div>
            <div style="font-size: 0.7rem; text-align: center; margin-top: 5px; cursor: pointer;" onclick="disableSearchMode(event)">İptal</div>
        </div>
    </div>

    <audio id="bgMusic" crossorigin="anonymous" preload="none"></audio>
    <div class="radio-wrapper">
        <div class="radio-player" id="playerBox">
            <div class="radio-info">
                <div class="station-name" id="stationName">Yükleniyor...</div>
                <div class="status-text" id="statusText">Hazır</div>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="triggerChangeStation(-1)"><i class="fas fa-step-backward"></i></button>
                <button class="control-btn play-btn" id="playBtn" onclick="togglePlay()"><i class="fas fa-play" id="playIcon"></i></button>
                <button class="control-btn" onclick="triggerChangeStation(1)"><i class="fas fa-step-forward"></i></button>
            </div>
        </div>
    </div>

    <div class="footer-copyright" id="footerText">&copy; 2025 Yusuf Ali. Tüm Hakları Saklıdır.</div>

    <div class="card-stage">
        <div class="card" id="mainCard">
            
            <div class="album-nav nav-left" onclick="prevPhoto()"><i class="fas fa-chevron-left"></i></div>
            <div class="album-nav nav-right" onclick="nextPhoto()"><i class="fas fa-chevron-right"></i></div>

            <img src="profil.jpg" alt="Profil" class="profile-img" id="profileImg">
            
            <div class="info-box">
                <h2>Yusuf Ali</h2>
                <div class="subtitle">Dokuz Eylül Üni. & Musician</div>
            </div>

            <div class="bio-box">
                <p class="bio">
                    Dokuz Eylül Üniversitesi'nde <strong>Elektrik ve Elektronik Teknolojisi</strong> üzerine kariyerimi inşa ediyorum. 
                    Teknolojinin teknik dünyasını müziğin ritmiyle harmanlıyor; devrelerin arasında sanat arıyorum.
                </p>
            </div>

            <div class="social-box">
                <a href="https://instagram.com/yusufaliyaylaci" class="social-btn">
                    <i class="fab fa-instagram"></i><span class="social-text">Instagram</span>
                </a>
                <a href="https://x.com/yusufaliyaylaci" class="social-btn">
                    <i class="fab fa-twitter"></i><span class="social-text">Twitter / X</span>
                </a>
                <a href="https://github.com/yusufaliyaylaci" class="social-btn">
                    <i class="fab fa-github"></i><span class="social-text">GitHub</span>
                </a>
            </div>

        </div>
    </div>

    <div id="overlay" onclick="startSite()">
        <div class="overlay-content">
            <h1>Hoş Geldiniz</h1>
            <p>Girmek için tıklayın</p>
            <i class="fas fa-chevron-down click-icon"></i>
        </div>
    </div>

    <script>
        // --- STATE MANAGEMENT (SCROLL) ---
        let currentStage = 1; // 0: Album, 1: Profile, 2: Bio, 3: Social
        let isScrolling = false;
        const card = document.getElementById("mainCard");

        window.addEventListener('wheel', (e) => {
            if(isScrolling) return;
            isScrolling = true;
            
            if(e.deltaY > 0) { // Aşağı
                if(currentStage < 3) currentStage++;
            } else { // Yukarı
                if(currentStage > 0) currentStage--;
            }
            updateStage();
            setTimeout(() => { isScrolling = false; }, 1000); // 1sn bekle (Animasyon süresi)
        });

        function updateStage() {
            // Reset classes
            card.classList.remove("state-album", "state-bio", "state-social");
            
            if(currentStage === 0) card.classList.add("state-album");
            else if(currentStage === 2) card.classList.add("state-bio");
            else if(currentStage === 3) card.classList.add("state-social");
        }

        // --- ALBÜM ---
        const photos = ["profil.jpg", "profil.jpg"]; // Buraya diğer foto isimlerini ekle
        let photoIndex = 0;
        function nextPhoto() { photoIndex = (photoIndex + 1) % photos.length; document.getElementById("profileImg").src = photos[photoIndex]; }
        function prevPhoto() { photoIndex = (photoIndex - 1 + photos.length) % photos.length; document.getElementById("profileImg").src = photos[photoIndex]; }

        // --- GİRİŞ ---
        function startSite() {
            document.getElementById("overlay").style.opacity = "0";
            setTimeout(() => { 
                document.getElementById("overlay").style.display = "none"; 
                initRadio(); // Müziği burada başlat
            }, 1000);
            
            // Diğer sistemleri başlat
            updateClock();
            setInterval(updateClock, 1000);
            getWeather();
            initSnow();
        }

        // --- SAAT ---
        function updateClock() {
            const now = new Date();
            const time = now.toLocaleTimeString('tr-TR', {hour: '2-digit', minute:'2-digit'});
            const date = now.toLocaleDateString('tr-TR', {weekday: 'long', day: 'numeric', month: 'long'});
            document.getElementById("digitalClock").innerText = time;
            document.getElementById("dateText").innerText = date;
        }

        // --- RADYO ---
        const stations = [
            { name: "Lofi Hip Hop", url: "https://stream.zeno.fm/0r0xa792kwzuv", color: "#c31432" },
            { name: "Number 1 FM", url: "https://n10101m.mediatriple.net/numberone", color: "#8E2DE2" },
            { name: "Power FM", url: "https://listen.powerapp.com.tr/powerfm/mpeg/icecast.audio", color: "#1cb5e0" }
        ];
        let stationIndex = 0;
        const audio = document.getElementById("bgMusic");
        
        function initRadio() {
            loadStation(stationIndex);
            audio.play().catch(() => console.log("Oto çalma engellendi"));
        }
        
        function loadStation(idx) {
            document.getElementById("stationName").innerText = stations[idx].name;
            audio.src = stations[idx].url;
            updateTheme(stations[idx].color);
        }

        function triggerChangeStation(dir) {
            stationIndex = (stationIndex + dir + stations.length) % stations.length;
            loadStation(stationIndex);
            audio.play();
            updateUIState(true);
        }

        function togglePlay() {
            if(audio.paused) { audio.play(); updateUIState(true); }
            else { audio.pause(); updateUIState(false); }
        }

        function updateUIState(playing) {
            const icon = document.getElementById("playIcon");
            const status = document.getElementById("statusText");
            if(playing) {
                icon.classList.replace("fa-play", "fa-pause");
                status.innerText = "Canlı Yayın";
                status.style.color = "#00ff00";
            } else {
                icon.classList.replace("fa-pause", "fa-play");
                status.innerText = "Durduruldu";
                status.style.color = "#aaa";
            }
        }

        function updateTheme(color) {
            document.getElementById("playBtn").style.color = color;
            document.getElementById("digitalClock").style.color = color;
            // Arka plan renk değişimi buraya eklenebilir
        }

        // --- HAVA DURUMU & KAR ---
        // (Önceki kodlardaki fonksiyonların aynısı buraya entegre çalışır)
        function initSnow() {
            const canvas = document.getElementById("snowCanvas");
            const ctx = canvas.getContext("2d");
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            let particles = [];
            for(let i=0; i<50; i++) particles.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*2+1, d: Math.random()*1+0.5});
            function draw() {
                ctx.clearRect(0,0,canvas.width,canvas.height);
                ctx.fillStyle = "rgba(255,255,255,0.5)";
                ctx.beginPath();
                for(let i=0; i<particles.length; i++) {
                    let p = particles[i]; ctx.moveTo(p.x, p.y); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2, true);
                }
                ctx.fill(); move();
            }
            function move() {
                for(let i=0; i<particles.length; i++) {
                    let p = particles[i]; p.y += p.d;
                    if(p.y > canvas.height) { p.y = -10; p.x = Math.random()*canvas.width; }
                }
                requestAnimationFrame(draw);
            }
            draw();
        }

        function getWeather() {
            if(navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos => {
                    fetch(`https://api.open-meteo.com/v1/forecast?latitude=${pos.coords.latitude}&longitude=${pos.coords.longitude}&current_weather=true`)
                    .then(r=>r.json()).then(d => updateWeather(d.current_weather, "Konumunuz"));
                });
            } else updateWeather({temperature: "--"}, "Şehir Seçin");
        }

        function updateWeather(data, loc) {
            document.getElementById("w-temp").innerText = data.temperature + "°C";
            document.getElementById("w-city").innerText = loc;
        }
        
        function enableSearchMode(e) { e.stopPropagation(); document.getElementById("weatherWidget").classList.add("search-mode"); document.getElementById("citySearchBox").style.display="flex"; document.getElementById("weatherDetails").style.display="none"; }
        function disableSearchMode(e) { e.stopPropagation(); document.getElementById("weatherWidget").classList.remove("search-mode"); document.getElementById("citySearchBox").style.display="none"; setTimeout(()=>document.getElementById("weatherDetails").style.display="", 100); }
        
        document.getElementById("cityInput").addEventListener("change", function() {
            // Basit arama simülasyonu (API'siz demo için)
            updateWeather({temperature: Math.floor(Math.random()*30)}, this.value);
            disableSearchMode(new Event('click'));
        });

    </script>
</body>
</html>
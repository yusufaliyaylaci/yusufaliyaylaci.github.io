<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yusuf Ali - Blog</title>
    <link rel="icon" href="profil.jpg" id="dynamicFavicon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a1a;
            height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            color: white;
            position: relative;
        }

        /* ARKA PLAN */
        .bg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            transition: opacity 3s ease-in-out;
            opacity: 0; z-index: -5;
        }
        .bg-layer.active { opacity: 1; z-index: -4; }
        #bg-layer-1, #bg-layer-2 { background-image: linear-gradient(45deg, #000000, #434343, #1a1a1a, #000000); }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        #snowCanvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }

        /* DİNAMİK KART (SCROLL CONTAINER) */
        .card-container {
            perspective: 1000px;
            z-index: 10;
            transition: all 0.8s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .card {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            text-align: center;
            /* Varsayılan Boyutlar */
            width: 360px;
            height: 500px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
            transition: all 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* --- SAHNE İÇERİKLERİ --- */

        /* 1. Profil Resmi */
        .profile-img {
            width: 150px; height: 150px; border-radius: 50%; object-fit: cover;
            border: 3px solid rgba(255,255,255,0.2);
            transition: all 0.8s ease;
            z-index: 2;
            position: absolute; top: 50px;
        }

        /* Albüm Okları */
        .album-nav {
            position: absolute; top: 50%; transform: translateY(-50%);
            font-size: 2rem; color: white; cursor: pointer;
            opacity: 0; transition: 0.3s; z-index: 20; pointer-events: none;
        }
        .nav-left { left: 20px; }
        .nav-right { right: 20px; }

        /* 2. İsim ve Ünvan */
        .info-section {
            position: absolute; top: 220px;
            transition: all 0.8s ease;
            width: 100%;
        }
        h2 { font-weight: 700; font-size: 1.8rem; margin-bottom: 5px; }
        .subtitle { font-size: 0.8rem; color: #ccc; letter-spacing: 1px; text-transform: uppercase; }

        /* 3. Biyografi */
        .bio-section {
            position: absolute; top: 300px;
            padding: 0 30px;
            opacity: 0; transform: translateY(20px);
            transition: all 0.8s ease;
        }
        p.bio { font-size: 0.9rem; opacity: 0.9; line-height: 1.6; color: #ddd; }

        /* 4. Sosyal Medya */
        .social-section {
            position: absolute; bottom: 40px;
            display: flex; gap: 15px; justify-content: center; width: 100%;
            transition: all 0.8s ease;
        }
        .social-btn {
            text-decoration: none; color: white; width: 50px; height: 50px; border-radius: 50%;
            background: rgba(255,255,255,0.05); display: flex; justify-content: center; align-items: center;
            font-size: 1.2rem; transition: all 0.5s ease; border: 1px solid rgba(255,255,255,0.1);
            position: relative; overflow: hidden;
        }
        .social-label {
            max-width: 0; overflow: hidden; white-space: nowrap; transition: all 0.5s ease;
            font-size: 0.9rem; margin-left: 0; opacity: 0;
        }
        .social-btn:hover { background: rgba(255,255,255,0.1); }

        /* 5. Radyo Player (Kart İçi) */
        .internal-player {
            position: absolute; bottom: -100px; /* Gizli */
            width: 90%; height: 80px;
            background: rgba(0,0,0,0.3); border-radius: 20px;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 20px; border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.8s ease; opacity: 0;
        }
        .ip-info { text-align: left; }
        .ip-title { font-size: 0.9rem; font-weight: bold; }
        .ip-status { font-size: 0.7rem; color: #00ff00; }
        .ip-controls { display: flex; gap: 15px; font-size: 1.2rem; }
        .ip-btn { cursor: pointer; transition: 0.2s; } .ip-btn:hover { transform: scale(1.2); }


        /* --- STATE CLASSSLARI (SİHİR BURADA) --- */

        /* STATE -1: ALBÜM MODU */
        .card-container.mode-album .card {
            width: 800px; height: 600px; /* Kart Büyür */
        }
        .card-container.mode-album .profile-img {
            width: 100%; height: 100%; border-radius: 20px; top: 0; border: none;
            object-fit: cover;
        }
        .card-container.mode-album .info-section,
        .card-container.mode-album .bio-section,
        .card-container.mode-album .social-section {
            opacity: 0; pointer-events: none;
        }
        .card-container.mode-album .album-nav {
            opacity: 1; pointer-events: auto;
        }

        /* STATE 0: NORMAL (Default CSS) */

        /* STATE 1: BİYOGRAFİ */
        .card-container.mode-bio .profile-img {
            width: 80px; height: 80px; top: 30px; /* Resim küçülür, yukarı çıkar */
        }
        .card-container.mode-bio .info-section {
            top: 120px; /* İsim yukarı kayar */
        }
        .card-container.mode-bio .bio-section {
            opacity: 1; transform: translateY(0); top: 200px; /* Bio görünür */
        }

        /* STATE 2: SOSYAL MEDYA GENİŞ */
        .card-container.mode-social .card {
            width: 500px; /* Kart enine genişler */
        }
        .card-container.mode-social .profile-img { width: 60px; height: 60px; top: 20px; opacity: 0.5; }
        .card-container.mode-social .info-section { top: 90px; opacity: 0.5; }
        .card-container.mode-social .bio-section { opacity: 0; }
        
        .card-container.mode-social .social-section {
            bottom: 150px; /* Ortaya gelir */
            flex-direction: column; gap: 10px; width: 60%;
        }
        .card-container.mode-social .social-btn {
            width: 100%; height: 60px; border-radius: 15px; justify-content: flex-start; padding-left: 20px;
        }
        .card-container.mode-social .social-label {
            max-width: 200px; opacity: 1; margin-left: 15px;
        }

        /* STATE 3: RADYO MODU */
        .card-container.mode-radio .card {
            height: 400px; /* Kart biraz kısalır */
        }
        .card-container.mode-radio .profile-img { opacity: 0; }
        .card-container.mode-radio .info-section { opacity: 0; }
        .card-container.mode-radio .bio-section { opacity: 0; }
        
        /* Sosyal ikonlar üste, küçük olarak gider */
        .card-container.mode-radio .social-section {
            bottom: auto; top: 20px; flex-direction: row; width: 100%;
        }
        .card-container.mode-radio .social-btn {
            width: 40px; height: 40px; border-radius: 50%; background: rgba(255,255,255,0.1);
        }
        .card-container.mode-radio .social-label { max-width: 0; opacity: 0; }

        /* Radyo player alttan çıkar */
        .card-container.mode-radio .internal-player {
            bottom: 40px; opacity: 1;
        }

        /* GİRİŞ EKRANI (Overlay) */
        #overlay {
            position: fixed; top: -15vh; left: 0; width: 100%; height: 115vh; padding-top: 15vh;
            background: linear-gradient(to bottom, rgba(10, 10, 10, 0.98), rgba(30, 30, 30, 0.98));
            backdrop-filter: blur(15px); z-index: 100; display: flex; justify-content: center; align-items: center;
            cursor: pointer; transition: transform 1.5s cubic-bezier(0.77, 0, 0.175, 1), opacity 1.5s ease;
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 15%);
        }
        .slide-down-active { transform: translateY(115%); opacity: 0; pointer-events: none; }
        .overlay-content { text-align: center; animation: fadeUp 1s ease forwards; padding: 20px; }
        .click-icon { font-size: 2rem; opacity: 0.7; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        /* SCROLL GÖSTERGESİ */
        .scroll-hint {
            position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
            display: flex; flex-direction: column; gap: 10px; z-index: 5;
        }
        .dot { width: 8px; height: 8px; background: rgba(255,255,255,0.2); border-radius: 50%; transition: 0.3s; }
        .dot.active { background: #fff; transform: scale(1.5); }

        /* MOBİL UYUM */
        @media (max-width: 768px) {
            .card-container.mode-album .card { width: 95vw; height: 60vh; }
            .card-container.mode-social .card { width: 90vw; }
        }
    </style>
</head>
<body>

    <div class="bg-layer active" id="bg-layer-1"></div>
    <div class="bg-layer" id="bg-layer-2"></div>
    <canvas id="snowCanvas"></canvas>
    
    <audio id="bgMusic" crossorigin="anonymous" preload="none"></audio>

    <div id="overlay" onclick="enterSite()">
        <div class="overlay-content">
            <h1>Hoş Geldiniz</h1>
            <p>Deneyimi başlatmak için dokunun</p>
            <i class="fas fa-chevron-down click-icon"></i>
        </div>
    </div>

    <div class="scroll-hint" id="scrollDots">
        <div class="dot"></div>
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>

    <div class="card-container" id="cardContainer">
        <div class="card">
            
            <div class="album-nav nav-left" onclick="prevPhoto()"><i class="fas fa-chevron-left"></i></div>
            <div class="album-nav nav-right" onclick="nextPhoto()"><i class="fas fa-chevron-right"></i></div>

            <img src="profil.jpg" alt="Yusuf Ali" class="profile-img" id="mainImage">
            
            <div class="info-section">
                <h2>Yusuf Ali</h2>
                <div class="subtitle">Dokuz Eylül Üni. & Musician</div>
            </div>

            <div class="bio-section">
                <p class="bio">
                    Dokuz Eylül Üniversitesi'nde <strong>Elektrik ve Elektronik Teknolojisi</strong> üzerine kariyerimi inşa ediyorum. 
                    Teknolojinin teknik dünyasını müziğin ritmiyle harmanlıyor; devrelerin arasında sanat, notaların arasında mühendislik arıyorum.
                </p>
            </div>

            <div class="social-section">
                <a href="https://instagram.com/yusufaliyaylaci" class="social-btn">
                    <i class="fab fa-instagram"></i>
                    <span class="social-label">Instagram</span>
                </a>
                <a href="https://x.com/yusufaliyaylaci" class="social-btn">
                    <i class="fab fa-twitter"></i>
                    <span class="social-label">Twitter / X</span>
                </a>
                <a href="https://github.com/yusufaliyaylaci" class="social-btn">
                    <i class="fab fa-github"></i>
                    <span class="social-label">GitHub</span>
                </a>
            </div>

            <div class="internal-player">
                <div class="ip-info">
                    <div class="ip-title" id="ipStation">Lofi Hip Hop</div>
                    <div class="ip-status" id="ipStatus">Hazır</div>
                </div>
                <div class="ip-controls">
                    <i class="fas fa-step-backward ip-btn" onclick="changeStation(-1)"></i>
                    <i class="fas fa-play ip-btn" id="ipPlayIcon" onclick="togglePlay()"></i>
                    <i class="fas fa-step-forward ip-btn" onclick="changeStation(1)"></i>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- AYARLAR VE VERİLER ---
        const stations = [
            { name: "Lofi Hip Hop", url: "https://stream.zeno.fm/0r0xa792kwzuv", gradient: "linear-gradient(45deg, #240b36, #c31432, #240b36, #c31432)" },
            { name: "Number 1 FM", url: "https://n10101m.mediatriple.net/numberone", gradient: "linear-gradient(45deg, #8E2DE2, #4A00E0, #8E2DE2, #4A00E0)" },
            { name: "Power FM", url: "https://listen.powerapp.com.tr/powerfm/mpeg/icecast.audio", gradient: "linear-gradient(45deg, #1cb5e0, #000046, #1cb5e0, #000046)" },
            { name: "Joy FM", url: "https://playerservices.streamtheworld.com/api/livestream-redirect/JOY_FM_SC", gradient: "linear-gradient(45deg, #134e5e, #71b280, #134e5e, #71b280)" },
            { name: "Virgin Radio", url: "https://karnaval.mncdn.com/virginradio/mpeg/icecast.audio", gradient: "linear-gradient(45deg, #AA076B, #61045F, #AA076B, #61045F)" },
            { name: "Power Türk", url: "https://listen.powerapp.com.tr/powerturk/mpeg/icecast.audio", gradient: "linear-gradient(45deg, #e52d27, #b31217, #e52d27, #b31217)" }
        ];

        // Albüm Fotoğrafları (Buraya kendi fotoğraflarının adını yazabilirsin)
        // Şimdilik aynı fotoğrafı koydum, 'resim2.jpg', 'resim3.jpg' ekleyebilirsin.
        const photos = ["profil.jpg", "profil.jpg", "profil.jpg"]; 

        let currentStage = 0; // -1: Albüm, 0: Giriş, 1: Bio, 2: Social, 3: Radio
        let currentPhotoIndex = 0;
        let currentStationIndex = 0;
        let scrollCooldown = false;
        
        const audio = document.getElementById("bgMusic");
        const container = document.getElementById("cardContainer");
        const dots = document.querySelectorAll(".dot");
        const bg1 = document.getElementById("bg-layer-1");
        const bg2 = document.getElementById("bg-layer-2");
        let activeBgLayer = 1;

        // --- SCROLL KONTROLÜ (DURUM MAKİNESİ) ---
        window.addEventListener('wheel', (e) => {
            if (scrollCooldown) return;
            
            if (e.deltaY > 0) { // Aşağı Scroll
                if (currentStage < 3) {
                    currentStage++;
                    updateStage();
                    setCooldown();
                }
            } else { // Yukarı Scroll
                if (currentStage > -1) {
                    currentStage--;
                    updateStage();
                    setCooldown();
                }
            }
        });

        function setCooldown() {
            scrollCooldown = true;
            setTimeout(() => { scrollCooldown = false; }, 800); // 800ms bekle
        }

        function updateStage() {
            // Tüm sınıfları temizle
            container.className = "card-container";
            
            // Yeni sınıfı ekle
            if (currentStage === -1) container.classList.add("mode-album");
            else if (currentStage === 1) container.classList.add("mode-bio");
            else if (currentStage === 2) container.classList.add("mode-social");
            else if (currentStage === 3) container.classList.add("mode-radio");

            // Noktaları Güncelle (-1. indeks olmadığı için +1 ekliyoruz)
            dots.forEach(d => d.classList.remove("active"));
            if(dots[currentStage + 1]) dots[currentStage + 1].classList.add("active");

            // Radyo moduna girince otomatik çalmayı deneyebiliriz istersen
            // if(currentStage === 3 && audio.paused) togglePlay();
        }

        // --- ALBÜM FONKSİYONLARI ---
        function nextPhoto() {
            currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
            document.getElementById("mainImage").src = photos[currentPhotoIndex];
        }
        function prevPhoto() {
            currentPhotoIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
            document.getElementById("mainImage").src = photos[currentPhotoIndex];
        }

        // --- RADYO FONKSİYONLARI ---
        function changeStation(direction) {
            if(direction === 1) currentStationIndex = (currentStationIndex + 1) % stations.length;
            else currentStationIndex = (currentStationIndex - 1 + stations.length) % stations.length;
            
            document.getElementById("ipStation").innerText = stations[currentStationIndex].name;
            document.getElementById("ipStatus").innerText = "Bağlanıyor...";
            
            audio.src = stations[currentStationIndex].url;
            audio.load();
            audio.play().catch(e => console.log("Hata", e));
            updateBackground();
        }

        function togglePlay() {
            const icon = document.getElementById("ipPlayIcon");
            const status = document.getElementById("ipStatus");
            
            if(audio.paused) {
                audio.play().then(() => {
                    icon.classList.replace("fa-play", "fa-pause");
                    status.innerText = "Canlı Yayın";
                    status.style.color = "#00ff00";
                });
            } else {
                audio.pause();
                icon.classList.replace("fa-pause", "fa-play");
                status.innerText = "Durduruldu";
                status.style.color = "#aaa";
            }
        }

        function updateBackground() {
            const newGradient = stations[currentStationIndex].gradient;
            const targetLayer = activeBgLayer === 1 ? bg2 : bg1;
            const currentLayer = activeBgLayer === 1 ? bg1 : bg2;
            
            targetLayer.style.backgroundImage = newGradient;
            targetLayer.style.backgroundSize = "400% 400%";
            currentLayer.classList.remove('active');
            targetLayer.classList.add('active');
            activeBgLayer = activeBgLayer === 1 ? 2 : 1;
        }

        // --- GİRİŞ ---
        function enterSite() {
            const overlay = document.getElementById("overlay");
            overlay.classList.add('slide-down-active');
            setTimeout(() => { overlay.style.display = 'none'; }, 1500);
            initSnow();
            
            // İlk radyo ayarı
            document.getElementById("ipStation").innerText = stations[0].name;
            audio.src = stations[0].url;
        }

        function initSnow() {
            const canvas = document.getElementById("snowCanvas");
            const ctx = canvas.getContext("2d");
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            
            let particles = [];
            for(let i=0; i<50; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    r: Math.random() * 2 + 1,
                    d: Math.random() * 1 + 0.5
                });
            }

            function draw() {
                ctx.clearRect(0,0,canvas.width,canvas.height);
                ctx.fillStyle = "rgba(255,255,255,0.6)";
                ctx.beginPath();
                for(let i=0; i<particles.length; i++) {
                    let p = particles[i];
                    ctx.moveTo(p.x, p.y);
                    ctx.arc(p.x, p.y, p.r, 0, Math.PI*2, true);
                }
                ctx.fill();
                update();
            }

            function update() {
                for(let i=0; i<particles.length; i++) {
                    let p = particles[i];
                    p.y += p.d;
                    if(p.y > canvas.height) {
                        p.y = -10; p.x = Math.random() * canvas.width;
                    }
                }
                requestAnimationFrame(draw);
            }
            draw();
        }
        
        window.addEventListener('resize', () => {
            const canvas = document.getElementById("snowCanvas");
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        });

    </script>
</body>
</html>